/*!
 * TrackpadScrollEmulator
 * Version: 1.0.8.2
 * Author: Jonathan Nicol @f6design
 * https://github.com/jnicol/trackpad-scroll-emulator
 * forked to support width and height of 100% at https://github.com/avipinto/trackpad-scroll-emulator
 */
(function(a){function v(){if(null!==g)return g;var c=a('<div class="scrollbar-width-tester" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');a("body").append(c);var b=a(c).innerWidth(),t=a("div",c).innerWidth();c.remove();g=b===t&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")?17:b-t;return g+=3}function w(c,b){function t(d){d.preventDefault();var y=d.pageY;"horiz"===l&&(y=d.pageX);z=y-h.offset()[u];a(document).on("mousemove",n);a(document).on("mouseup",g)}function n(d){d.preventDefault();var a=d.pageY;"horiz"===l&&(a=d.pageX);d=(a-k.offset()[u]-z)/k[p]()*m[p]();f[q](d)}function g(){a(document).off("mousemove",n);a(document).off("mouseup",g)}function w(d){if(d.target!==h[0]){var a=.875*f[p]();d="vert"===l?d.originalEvent.layerY:d.originalEvent.layerX;var b=h.position()[u],a=d<b?f[q]()-a:f[q]()+a;f[q](a)}}function E(a){A()}function x(){var a="height"===p?m.outerHeight():m.outerWidth(),b=f[q](),e=k[p](),c=e/a,b=Math.round(c*b)+2,c=Math.floor(c*(e-2))-2;e<a?("vert"===l?h.css({top:b,height:c}):h.css({left:b,width:c}),k.show()):k.hide()}function A(){x();B()}function B(){h.addClass("visible");b.autoHide&&("number"===typeof r&&window.clearTimeout(r),r=window.setTimeout(function(){h.removeClass("visible");"number"===typeof r&&window.clearTimeout(r)},1E3))}function C(){"vert"!==l&&(f.width(e.width()),f.height(e.height()+v()),m.height(e.height()))}function D(){C();x()}var e=a(c),f,m=e.find(".tse-content:first"),k,h,z,r,l="vert",q="scrollTop",p="height",u="top";b=a.extend({},a.fn.TrackpadScrollEmulator.defaults,b);(function(){e.hasClass("horizontal")&&(l="horiz",q="scrollLeft",p="width",u="left");e.prepend('<div class="tse-scrollbar"><div class="drag-handle"></div></div>');k=e.find(".tse-scrollbar:first");h=e.find(".drag-handle:first");b.wrapContent&&m.wrap('<div class="tse-scroll-content" />');f=e.find(".tse-scroll-content:first");if("vert"===l){var d=a('<div class="tse-shim" />');v()&&d.width(v());d.prependTo(f);f.addClass("tse-vertScroll")}C();if(b.autoHide)e.on("mouseenter",A);h.on("mousedown",t);k.on("mousedown",w);f.on("scroll",E);x();a(window).on("resize",function(){D()});b.autoHide||B()})();return{option:function(a,c){if(c)b[a]=c;else return b[a]},destroy:function(){m.insertBefore(k);k.remove();f.remove();m.css({height:e.height()+"px","overflow-y":"scroll"});void 0!==b.onDestroy&&b.onDestroy.call(c);e.removeData("plugin_TrackpadScrollEmulator")},recalculate:D}}var g=null;a.fn.TrackpadScrollEmulator=function(c){if("string"===typeof arguments[0]){var b=arguments[0],g=Array.prototype.slice.call(arguments,1),n;this.each(function(){if(a.data(this,"plugin_TrackpadScrollEmulator")&&"function"===typeof a.data(this,"plugin_TrackpadScrollEmulator")[b])n=a.data(this,"plugin_TrackpadScrollEmulator")[b].apply(this,g);else throw Error("Method "+b+" does not exist on jQuery.TrackpadScrollEmulator");});return void 0!==n?n:this}if("object"===typeof c||!c)return this.each(function(){a.data(this,"plugin_TrackpadScrollEmulator")||a.data(this,"plugin_TrackpadScrollEmulator",new w(this,c))})};a.fn.TrackpadScrollEmulator.defaults={onInit:function(){},onDestroy:function(){},wrapContent:!0,autoHide:!0}})(jQuery);